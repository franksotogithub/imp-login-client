


  <div class="content"  *ngIf="sistemaModel">
    <p-card>
      <h2>{{title}}</h2>
      <form [formGroup]="sistemaFormGroup" *ngIf="sistemaFormGroup" >
        <div class="formgrid grid">
          <div class="field col-12">
            <label for="sisNombre">
              Nombre
            </label>

            <input

            type="text"
            pInputText
            formControlName="sisNombre"
            class="inputfield w-full"
            [(ngModel)]="sistemaModel.sisNombre"
            />

            <small
                class="text-danger"
                *ngIf="
                sistemaFormGroup.controls['sisNombre']?.errors
                "
              >
                {{ sistemaFormGroup.controls['sisNombre'].errorMessage }}</small
              >
          </div>

          <div class="field col-12">
            <label for="sisUrl">
              Direccion Url
            </label>

            <input

            type="text"
            pInputText
            formControlName="sisUrl"
            class="inputfield w-full"
            [(ngModel)]="sistemaModel.sisUrl"
            />
            <small
            class="text-danger"
            *ngIf="
            sistemaFormGroup.controls['sisUrl']?.errors
            "
          >
            {{ sistemaFormGroup.controls['sisUrl'].errorMessage }}</small
          >

          </div>

          <div class="field col-12">
            <label for="sisDescripcion">
             Descripcion
            </label>

            <textarea

            type="text"
            pInputText
            formControlName="sisDescripcion"
            class="inputfield w-full"
            [(ngModel)]="sistemaModel.sisDescripcion" [rows]="3"
            ></textarea>

          </div>

          <div class="field col-12">
            <label for="fileInput">
              Imagen
            </label>

            <div class="card-body-height-300" *ngIf="sistemaModel.sisLogotipo">
              <img src="data:image/png;base64,{{sistemaModel.sisLogotipo}}" width="200">
            </div>


              <p-fileUpload  #fileInput
                name="fileInput"
                accept="image/*"
                (onUpload)="onUpload($event)"
                [showUploadButton]="false"
              >

              <ng-template pTemplate="content">
                <ul *ngIf="uploadedFiles.length">
                    <li *ngFor="let file of uploadedFiles">{{file.name}} - {{file.size}} bytes</li>
                </ul>
              </ng-template>
            </p-fileUpload>

          </div>


<!--

          <div class="col-12">
            <h1>Lista  de Perfiles</h1>
            <p-table #dt [value]="perfiles"   styleClass="p-datatable-customers" [rowHover]="true"
            [rows]="10" [showCurrentPageReport]="true" [rowsPerPageOptions]="[10,25,50]" [loading]="loading"
            [paginator]="true" currentPageReportTemplate="Viendo {first} hasta {last} de {totalRecords} registros"
            [filterDelay]="0" [globalFilterFields]="['prfNombre']">
            <ng-template pTemplate="caption">
                <div class="table-header">



                    <span class="p-input-icon-left">
                        <i class="pi pi-search"></i>
                        <input pInputText type="text" (input)="dt.filterGlobal($any($event.target).value, 'contains')" placeholder="Global Search" />

                    </span>
                    <button
                    pButton
                    type="button"
                    label="Agregar"
                    icon="pi pi-plus"
                    class="p-button-primary p-button-rounded mr-2 mb-2"
                    (click)="crearPerfil()"
                    >
                    </button>


                </div>
            </ng-template>
            <ng-template pTemplate="header">
              <tr>


                  <th pSortableColumn="prfNombre">Nombre Perfil <p-sortIcon field="prfNombre"></p-sortIcon></th>
                  <th ></th>

              </tr>
            </ng-template>
            <ng-template pTemplate="body" let-perfil>
              <tr>
                <td>{{ perfil.prfNombre }}</td>


                <td>
                  <button
                  pButton
                  type="button"
                  label=""
                  icon="pi pi-pencil"
                  class="p-button-warning p-button-rounded mr-2 mb-2"
                  (click)="actualizarPerfil(perfil)"
                  >

                  </button>

                  <button
                  pButton
                  (click)="eliminarPerfil(perfil)"
                  class="p-button-danger p-button-rounded p-mr-2 mb-2"
                  icon="pi pi-trash"

                ></button>
                </td>
              </tr>

            </ng-template>
            </p-table>

          </div>

        -->
        </div>



        <div class="flex justify-content-between">
          <button
          pButton
          label="Guardar"
          (click)="save()"
          type="submit"

          class="p-button-primary"
          [disabled]="!sistemaModel.isValid"
        ></button>

        <button
        pButton
        label="Regresar"
        (click)="regresar()"
        class="p-button-secundary"

      ></button>


        </div>
      </form>



    </p-card>
  </div>


  <p-confirmDialog #cd [style]="{ width: '50vw' }">
    <ng-template pTemplate="header">
      <h3>Guardar Sistema</h3>
    </ng-template>
    <ng-template pTemplate="footer">
      <button
        type="button"
        class="p-button-outlined p-button-danger"
        pButton
        icon="pi pi-times"
        label="Cancelar"
        (click)="cd.reject()"
      ></button>
      <button
        type="button"
        class="p-button-success"
        pButton
        icon="pi pi-check"
        label="Aceptar"
        (click)="cd.accept()"
      ></button>
    </ng-template>
  </p-confirmDialog>
